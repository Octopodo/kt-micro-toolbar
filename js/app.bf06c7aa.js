(function(){"use strict";var t={1426:function(t,e,o){var a=o(144),s=o(8864);a.ZP.use(s.Z);var n,r,i,l,c,m,u,d,p=new s.Z({theme:{dark:!0}}),h=o(998),f=o(7674),$=o(9223),v=function(){var t=this,e=t._self._c;return e(h.Z,{staticClass:"grey darken-4"},[e("div",{staticClass:"toolbar"},[e("toolbar"),t.uiblocked?e("BlockUI",[e(f.Z,{on:{click:t.unblockui}},[t._v("unblock")])],1):t._e()],1),e($.Z,{class:`ma-0 pa-0 grey darken-2 ${t.colors.separator}`}),e("div",{staticClass:"help grey--text text--darken-2",domProps:{textContent:t._s(t.tooltip)}})],1)},g=[],_=o(6760),y=o(3687),k=function(){var t=this,e=t._self._c;return e("div",[e(_.Z,{staticClass:"ma-0 pa-0",attrs:{row:""}},[e("div",{staticClass:"caption top pa-0 pt-2 grey--text mr-1 kt-title",attrs:{left:""}},[t._v(" Quick controls: ")]),e("kt-divider",{attrs:{type:"small"}}),e("button-command",{attrs:{name:"compFitToContent"}}),e("button-command",{attrs:{name:"compFitContent"}}),e("button-command",{attrs:{name:"compToContentDuration"}}),e("button-command",{attrs:{name:"compAddNull"}}),e("button-command",{attrs:{name:"compAddSolid"}}),e("button-command",{attrs:{name:"compCreate"}}),e("kt-divider",{attrs:{type:"normal"}}),e("div",{staticClass:"caption top pa-0 pt-2 grey--text mr-1 kt-title",attrs:{left:""}},[t._v(" Expressions: ")]),e("kt-divider",{attrs:{type:"small"}}),e("kt-divider",{attrs:{type:"small"}}),e("input-number",{attrs:{name:"expressionsBakeRate"}}),e("button-command",{attrs:{name:"expressionsBake"}}),e("kt-divider"),e("div",{staticClass:"caption top pa-0 pt-2 grey--text mr-1 kt-title",attrs:{left:""}},[t._v(" Keying: ")]),e("kt-divider",{attrs:{type:"small"}}),e("button-switch",{attrs:{name:"optionUseMarkers"}}),e("button-switch",{attrs:{name:"optionUseKeys"}}),e("button-switch",{attrs:{name:"optionSelectedKeys"}}),e("kt-divider",{attrs:{type:"small"}}),e("button-command",{attrs:{name:"keysFastBackward"}}),e("button-command",{attrs:{name:"keysBackward"}}),e("button-command",{attrs:{name:"keysForward"}}),e("button-command",{attrs:{name:"keysFastForward"}}),e("input-number",{attrs:{name:"keysOffsetRate"}}),e(y.Z),e("kt-divider",{attrs:{type:"bold"}}),e("div",{staticClass:"caption top pa-0 pt-2 grey--text mr-1 kt-title",attrs:{left:""}},[t._v(" Options: ")]),e("group-switch",{attrs:{name:"SWITCH"}},[e("button-switch",{attrs:{mutant:"",name:"optionSmart"}}),e("kt-divider",{attrs:{type:"small"}}),e("kt-group",{attrs:{name:"GROUP"}})],1),e("kt-divider",{attrs:{type:"normal"}}),e("button-command",{attrs:{name:"settings"}})],1)],1)},b=[],S=o(5125),w=o(9971),C=function(){var t=this,e=t._self._c;return e("div",[e(S.Z,{ref:"form",staticClass:"pa-0 ma-0",on:{submit:function(t){t.preventDefault()}}},[e(w.Z,{staticClass:"pa-0 ma-0 styled-input white--text",attrs:{dark:"",height:"15","background-color":"grey darken-3",color:"orange lighten-1",counter:"4","hide-details":"",type:"number"},on:{mouseover:function(e){return e.preventDefault(),t.$_setTooltip()},mouseleave:function(e){return e.preventDefault(),t.$_clearTooltip()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},T=[],x=function(){var t=this,e=t._self._c;return e("div")},P=[],A={props:{name:{type:String,required:!0},command:{type:Boolean,default:!1},mutant:{type:Boolean,default:!1},methods:{type:Array||Function,required:!1}},computed:{value(){return this.$store.state.controls.values[this.name]}},data(){return{$_color:this.$store.state.controls.colors[this.name],$_command:this.command?this.$store.state.controls.commands[this.name]:void 0,$_doCommand:this.command,$_doMutate:this.mutant,$_enabled:void 0,$_icon:this.$store.state.controls.icons[this.name],$_mutations:this.$store.state.controls.mutations[this.name]||[],$_schema:void 0,$_schemaName:"",$_siblings:this.$store.state.controls.siblings[this.name],$_title:this.$store.state.controls.titles[this.name],$_value:this.$store.state.controls.values[this.name]}},created:function(){if(void 0!=this.$data.$_valuePath){let t=this.$store.getters.getSchema(this.$data.$_valuePath);this.$data.$_schema=t.schema,this.$data.$_schemaName=t.schemaName}this.$parent.$data.$_isGroup&&this.$parent.register(this)},methods:{click(){this.$_click(),this.$emit("item-value-changed")},$_mutate(){let t={value:this.value,mutations:this.$data.$_mutations,schema:this.$data.$_schema,schemaName:this.$data.$_schemaName};this.$store.dispatch("MUTATE",t)},$_callCommand(){this.$store.dispatch("CALL_COMMAND",this.$data.$_command)},$_click(){this.$data.$_doMutate&&this.$_mutate(),this.$data.$_doCommand&&this.$_callCommand()},$_setTooltip(){let t=this.$store.state.lang,e=this.$store.state.controls.tooltips[this.name][t];this.$store.commit("setTooltip",e)},$_clearTooltip(){this.$store.commit("setTooltip","")}}},N=A,M=o(1001),F=(0,M.Z)(N,x,P,!1,null,null,null),O=F.exports,Z={mixins:[O],data(){return{inputRules:[t=>!isNaN(Number(t))||this.value]}},computed:{value:{get:function(){return this.$store.state.controls.values[this.name]},set:function(t){let e=parseInt(t);if(isNaN(e))return;this.$data.$_schema,this.$data.$_schemaName;this.$store.commit("setValue",{name:this.name,value:t})}}},created(){}},K=Z,B=(0,M.Z)(K,C,T,!1,null,"207bbd5a",null),E=B.exports,j=o(4324),D=function(){var t=this,e=t._self._c;return e("div",[e(f.Z,{class:"transparent ma-0 pa-0",attrs:{small:"",icon:""},on:{click:function(e){return e.preventDefault(),t.click.apply(null,arguments)},mouseover:function(e){return e.preventDefault(),t.$_setTooltip()},mouseleave:function(e){return e.preventDefault(),t.$_clearTooltip()}}},[e(j.Z,{attrs:{color:t.iconColor,small:!t.normal}},[t._v(" "+t._s(t.icon)+" ")]),void 0!=t.$data.$_title?e("span",{domProps:{textContent:t._s(t.$data.$_title)}}):t._e()],1)],1)},U=[],V={mixins:[O],props:{normal:{type:Boolean,default:!1}},computed:{icon(){let t=this.$data.$_icon;return t},iconColor(){let t=this.$data.$_color||"white";return t}},methods:{clic(){this.$_click()}}},I=V,L=(0,M.Z)(I,D,U,!1,null,"36f03d1e",null),G=L.exports,R={mixins:[G],data(){return{$_command:this.$store.state.controls.commands[this.name],$_doCommand:!0}},created(){},methods:{click(){this.$_click()}}},W=R,q=(0,M.Z)(W,n,r,!1,null,"4c024822",null),J=q.exports,z={mixins:[G],computed:{icon(){let t=this.value?this.$data.$_icon.on:this.$data.$_icon.off;return t},iconColor(){let t=this.value?this.$data.$_color.on:this.$data.$_color.off;return t}},created:function(){let t={},e={};t.off=this.$data.$_color.off?this.$data.$_color.off:"grey--text",t.on=this.$data.$_color.on?this.$data.$_color.on:"orange--text",e.off="string"===typeof this.$data.$_icon?this.$data.$_icon:this.$data.$_icon.off,e.on="string"===typeof this.$data.$_icon?this.$data.$_icon:this.$data.$_icon.on,this.$data.$_color=t,this.$data.$_icon=e,this.$data.$_mutations.unshift("switchState"),this.$data.$_doMutate=!0,console.log(this.$data.$_mutations)}},H=z,X=(0,M.Z)(H,i,l,!1,null,"3165b8de",null),Y=X.exports,Q=function(){var t=this,e=t._self._c;return e("div",[e(_.Z,{attrs:{row:t.row,column:t.column}},[t._t("default")],2)],1)},tt=[],et=(o(7658),{props:{row:{type:Boolean,default:!1},column:{type:Boolean,default:!1}},computed:{value(){let t=this.items,e=!1;for(var o=0,a=t.length;o<a;o++)if(e=t[o].value,e)break;return e},valueChanged(){return this.$data.$_lastValue!=this.value},itemValues(){let t=[];return this.items.forEach((e=>{t.push(e.value)})),t}},data(){return{items:[],$_itemValues:[],$_isGroup:!0,$_lastValue:!1}},watch:{itemValues:function(t,e){this.$emit("item-value-changed")}},created(){this.$parent.$data.$_isGroup&&this.$parent.register(this)},methods:{$_mutate(t,e){this.items.forEach((t=>{if(t.$data.$_isGroup)return;let o={value:!e,mutations:["setOption"],schema:t.$data.$_schema,schemaName:t.$data.$_schemaName};this.$store.dispatch("MUTATE",o)}))},$_listenChilds(t){console.log("Setting.listener"),t.$on("item-value-changed",(()=>{console.log("child listened"),t.$off("item-value-changed"),this.$_mutate(t.value),this.$_listenChilds(t)}))},$_stopListeningChilds(){this.$off("item-value-changed")},register(t){this.items.push(t),t.$on("item-value-changed",(()=>{this.$data.$_lastValue=this.value,this.$valueChanged&&this.$_mutate(t,t.value)}))}}}),ot=et,at=(0,M.Z)(ot,Q,tt,!1,null,"6ad672f8",null),st=at.exports,nt={mixins:[st],data(){return{$_isSwitchGroup:!0}},methods:{$_mutate(t,e){console.log("SWITCH MUTATION"),this.items.forEach((o=>{if(console.log(o.name,", ",t.name,o.$data.$_isGroup),o.name==t.name)return;if(o.$data.$_isGroup)return console.log("Mutating child group"),void o.$_mutate(t,e);let a={value:!e,mutations:["setOption"],schema:o.$data.$_schema,schemaName:o.$data.$_schemaName};this.$store.dispatch("MUTATE",a)}))}}},rt=nt,it=(0,M.Z)(rt,c,m,!1,null,"005b0486",null),lt=it.exports,ct={mixins:[st]},mt=ct,ut=(0,M.Z)(mt,u,d,!1,null,"0a43ce1f",null),dt=ut.exports,pt={name:"ToolBar",components:{InputNumber:E,ButtonCommand:J,ButtonSwitch:Y,GroupSwitch:lt,KtGroup:dt}},ht=pt,ft=(0,M.Z)(ht,k,b,!1,null,"4714641e",null),$t=ft.exports,vt="/";console.log(vt);var gt={name:"App",components:{Toolbar:$t},data(){return{colors:{separator:"grey darken-3"}}},beforeCreate:function(){},computed:{tooltip(){return this.$store.state.toolbar.tooltip},uiblocked(){return this.$store.state.uiblocked},currentMessage(){return this.$store.state.tooltip}},methods:{unblockui(){this.$store.dispatch("unblockui")}}},_t=gt,yt=(0,M.Z)(_t,v,g,!1,null,null,null),kt=yt.exports,bt=o(629);function St(t){return new Promise((function(e,o){const a=new VulcanMessage(VulcanMessage.TYPE_PREFIX+"com.kt.tools.server.kt-request");a.setPayload(t),VulcanInterface.dispatchMessage(a),e()}))}function wt(){return new Promise((function(t,e){VulcanInterface.addMessageListener(VulcanMessage.TYPE_PREFIX+"com.kt.tools.server.kt-response",(function(e){var o=VulcanInterface.getPayload(e);VulcanInterface.removeMessageListener(VulcanMessage.TYPE_PREFIX+"com.kt.tools.server.kt-response"),t(o)}))}))}function Ct(t){return new Promise((function(e,o){St(t).then((function(){wt().then((function(t){e(t)}))}))}))}var Tt=Ct,xt={readSettingsHost:function(t){function e(t){var e=KT.cast("CommandConfig"),o=e.readJSONSettings(t);return o}var o=`${e.toString()};\rKT_READ_SETTINGS('${t}')`;return Tt(o)},saveSettingsHost:function(t,e){function o(t,e){t=t instanceof String?t:JSON.stringify(t,null,2);KT.writeFile(t,e)}var a=`${o.toString()};KT_SAVE_SETTINGS('${JSON.stringify(t)}', '${e}')`;return Tt(a)},readSettings:function(t){var e=window.cep.fs.readFile(t);return e},saveSettings:function(t,e){t instanceof String||JSON.stringify(t,void 0,2);let o=`\n      var options = KT.cast('CommandConfig').Options();\n      KT.writeFile(JSON.stringify(options, undefined, 2), '${e}')\n      `;console.log(o),Tt(o)}},Pt={mutations:{},colors:{expressionsSwitch:{on:"orange",off:"grey"},optionUseKeys:{on:"orange",off:"grey"},optionUseMarkers:{on:"orange",off:"grey"},optionProjectSelection:{on:"orange",off:"grey"},optionSelectedKeys:{on:"blue darkeen-4",off:"blue accent-1"},optionSelectedLayers:{on:"orange",off:"grey"},optionSelectedProperties:{on:"orange",off:"grey"},optionSmart:{on:"orange",off:"grey"},optionWorkarea:{on:"orange",off:"grey"}},commands:{compCreate:"compCreate",compAddNull:"compAddNull",compAddSolid:"compAddSolid",keysBackward:"keysBackward",keysFastBackward:"keysFastBackward",keysFastForward:"keysFastForward",keysForward:"keysForward"},icons:{compAddNull:"center_focus_strong",compAddSolid:"crop_landscape",compCreate:"movie",compFitContent:"flip_to_front",compFitToContent:"flip_to_back",compToContentDuration:"settings_ethernet",expressionsBake:"whatshot",expressionsSwitch:{on:"toggle_on",off:"toggle_off"},keysBackward:"chevron_left",keysFastBackward:"first_page",keysFastForward:"last_page",keysForward:"chevron_right",optionProjectSelection:"folder",optionSelectedLayers:"view_stream",optionSelectedKeys:"label_important",optionSelectedProperties:"",optionSmart:"grade",optionUseKeys:"label_important",optionUseMarkers:"local_offer",optionWorkarea:"space_bar",settings:"settings"},values:{expressionsBakeRate:1,expressionsSwitch:!0,keysOffsetRate:1,optionSelectedKeys:!0,optionSelectedProperties:!0,optionProjectSelection:!0,optionSelectedLayers:!0,optionSmart:!0,optionUseKeys:!1,optionUseMarkers:!1,optionWorkarea:!0},siblings:{optionSmart:["optionProjectSelection","optionSelectedLayers","optionSelectedProperties","optionWorkarea"],optionProjectSelection:["optionSmart"],optionSelectedKeys:["optionUseKeys"],optionSelectedLayers:["optionSmart"],optionSelectedProperties:["optionSmart"],optionWorkarea:["optionSmart"]},titles:{},tooltips:{compAddNull:{en:"Add's a null to the current comp.",es:"Añade un objeto null a la composición actual."},compAddSolid:{en:"Add's a solid to the current comp.",es:"Añade un solido a la composición actual."},compCreate:{en:"Creates an empty comp with the preset settings in the settings panel.",es:"Crea una composición vacia con los ajustes preestablecidos en el panel opciones."},compFitContent:{en:"Change's the size of the content to fit the comp size.",es:"Cambia el tamaño del contenido de la composicion para ajustarse a su tamaño."},compFitToContent:{en:"Change's the size of the comp to fit his content size.",es:"Cambia el tamaño de la composición para ajustarse al tamaño de su contenido."},compToContentDuration:{en:"Changes the comp duration to fit his content duration.",es:"Cambia la duración de la composiciín en base a la duración de su contenido."},expressionsBake:{en:"Convert expressions to keyframes.",es:"Convierte las expresiones en fotogramas clave."},expressionsBakeRate:{en:"The expression baking rate in frames.",es:"El ratio de cocinado de expresiones en frames."},expressionsSwitch:{en:"Switch on/off expressions",es:"Activa o desactiva las expressiones"},keysBackward:{en:"Move keys one frame back.",es:"Mueve los fotogramas clave un frame hacia atrás."},keysFastBackward:{en:"Move keys 'n' frames backward.",es:"Mueve los fotogramas clave 'n' frames hacia atrás"},keysFastForward:{en:"Move keys 'n' frames forward.",es:"Mueve los fotogramas clave 'n' frames hacia adelate"},keysForward:{en:"Move keys on frame forward.",es:"Mueve los fotogramas clave un frame adelante."},keysOffsetRate:{en:"Determines the number of frames to move the keys",es:"Determina el numero de frames que se deben mover los fotogramas clave"},optionSelectedKeys:{en:"Selected keys only",es:"Fotogramas clave selceccionados"},optionSelectedProperties:{en:"Perform only on selected properties",es:"Actuar solo sobre las propiedades seleccionadas"},optionProjectSelection:{en:"Perform over a selection in the project panel",es:"Actuar sobre la selección hecha en el panel de proyecto"},optionSelectedLayers:{en:"Perform only on selected layers",es:"Actuar solo sobre las capas seleccionadas"},optionSmart:{en:"Let KT decide where to perform operations",es:"Dejar que KT decida donde actuar"},optionUseKeys:{en:"Perform on keys",es:"Actuar sobre fotogramas clave"},optionUseMarkers:{en:"Perform on markers",es:"Actuar sobre marcadores"},optionWorkarea:{en:"Perform on markers",es:"Actuar sobre marcadores"},settings:{en:"Open KT settings panel",es:"Abre el panel de ajustes de KT"}}};a.ZP.use(bt.ZP);var At=new bt.ZP.Store({state:{lang:"en",toolbar:{tooltipDelay:800,tooltip:""},controls:Pt,options:{}},mutations:{setTooltip:(t,e)=>{t.toolbar.tooltip=e},loadSettings:(t,e)=>{t.options="string"===typeof e?JSON.parse(e):e},setValue:(t,e)=>{console.log(e.name,e.value),t.controls.values[e.name]=e.value},switchState:(t,e)=>{e.schema[e.schemaName]=!e.schema[e.schemaName]},switchSiblings:(t,e)=>{let o=e.siblings,a=(o.len,e.schema[e.schemaName]);for(var s=0,n=e.siblings.length;s<n;s++){let t=e.siblings[s];t.schema[t.schemaName]=!a}}},getters:{getSchema:t=>e=>{for(var o,a=t.schema,s=e.split("."),n=s.length-1,r=0;r<n;r++)o=s[r],a[o]||(a={}),a=a[o];return o=s[n],{schema:a,schemaName:o}}},actions:{LOAD_SETTINGS:t=>{let e="C:/Users/Octopodo/AppData/Roaming/Adobe/CEP/extensions/KT_Settings",o=xt.readSettings(e+"/command-options-model.json");t.commit("loadSettings",o.data)},SAVE_SETTINGS:t=>{let e="C:/Users/Octopodo/AppData/Roaming/Adobe/CEP/extensions/KT_Settings";xt.saveSettings(t.state.options,e+"/command-options-model.json")},CALL_COMMAND:(t,e)=>{var o="alert('working')";Tt(o)},MUTATE:(t,e)=>{let o=e.mutations;for(var a=0,s=o.length;a<s;a++)t.commit(o[a],e)}}}),Nt=function(){var t=this,e=t._self._c;return e("div",["normal"==t.type?e("hr",{staticClass:"ma-0 pa-0 mr-2 kt-divider"}):t._e(),"small"==t.type?e("hr",{staticClass:"pa-0 ma-0 mr-1 small-divider"}):t._e(),"bold"==t.type?e("hr",{class:"ml-1 mr-2 my-0 bold-divider grey--text text-darken-1"}):t._e()])},Mt=[],Ft={name:"kt-divider",props:{type:{type:String,required:!1,default:"normal"},color:{type:String,required:!1,default:"grey darken-3"}}},Ot=Ft,Zt=(0,M.Z)(Ot,Nt,Mt,!1,null,"52c1e888",null),Kt=Zt.exports;a.ZP.config.productionTip=!1,a.ZP.component("kt-divider",Kt),new a.ZP({components:{KtDivider:Kt},store:At,vuetify:p,render:t=>t(kt)}).$mount("#app"),console.log("vue init")}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,a,s,n){if(!a){var r=1/0;for(m=0;m<t.length;m++){a=t[m][0],s=t[m][1],n=t[m][2];for(var i=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(o.O).every((function(t){return o.O[t](a[l])}))?a.splice(l--,1):(i=!1,n<r&&(r=n));if(i){t.splice(m--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var m=t.length;m>0&&t[m-1][2]>n;m--)t[m]=t[m-1];t[m]=[a,s,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,r=a[0],i=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var m=l(o)}for(e&&e(a);c<r.length;c++)n=r[c],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(m)},a=self["webpackChunkcom_kt_tools_toolbar_2"]=self["webpackChunkcom_kt_tools_toolbar_2"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(1426)}));a=o.O(a)})();
//# sourceMappingURL=app.bf06c7aa.js.map